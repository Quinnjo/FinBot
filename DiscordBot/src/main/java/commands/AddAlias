package commands;

import java.util.List;
import java.util.ArrayList;

import main.CommandHandler;
import main.BotUtils;

import sx.blah.discord.handle.impl.events.guild.channel.message.MessageReceivedEvent;

public class AddAlias extends Command {
  
  public AddAlias() {
  	restricted = true;
    aliases = new ArrayList<String>(0);
    aliases.add("addalias");
  }
  
  @Override
  public boolean test(MessageReceivedEvent event) {
	  return aliases.contains(args.get(0)) && BotUtils.isAdmin(event) && args.size() > 2;
  }
  
  @Override
  public void run(MessageReceivedEvent event) {
    
    //cycle through all commands, check if the command name is right
    for (ICommand command : CommandHandler.getCommands()) {
      if (command.getAliases().contains(args.get(1))) {
      	command.addAlias(args.get(2));
        return;
      }
    }
    
  }
  
}
